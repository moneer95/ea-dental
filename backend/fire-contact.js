

const arr = [
    {
        "name": "Dispenser Gun 10:1",
        "price": 33.60,
        "image_path": "../assets/product_images/IMG_7392-scaled-350x350.webp",
        "category": "Impression Materials"
    },
    {
        "name": "Straight Probe",
        "price": 6.00,
        "image_path": "../assets/product_images/gdc-single-end-probe-exs9-exs9-350x350.webp",
        "category": "Instruments"
    },
    {
        "name": "Condenser",
        "price": 6.00,
        "image_path": "../assets/product_images/PLG153__PLG153_h1_rgb-350x350.webp",
        "category": "Instruments"
    },
    {
        "name": "Tofflemire Bands",
        "price": 6.00,
        "image_path": "../assets/product_images/JPG_954078-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Tofflemier Retainer",
        "price": 8.40,
        "image_path": "../assets/product_images/953-7234__53854-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Hollenbach Carver",
        "price": 6.00,
        "image_path": "../assets/product_images/CVHL1-2__CVHL1_2_h1_rgb-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Amalgam Carrier",
        "price": 6.00,
        "image_path": "../assets/product_images/amalgam-carrier-350x350.png",
        "category": "Restorative"
    },
    {
        "name": "Mortensons Plugger",
        "price": 6.00,
        "image_path": "../assets/product_images/PLGMO2__PLGMO2_h1_rgb-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Dycal Applicator",
        "price": 6.00,
        "image_path": "../assets/product_images/DYCAL-350x350.png",
        "category": "Restorative"
    },
    {
        "name": "Siqveland Retainer",
        "price": 10.80,
        "image_path": "../assets/product_images/mps007_1-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Burnisher",
        "price": 6.00,
        "image_path": "../assets/product_images/nmd_ball_burnisher_3_-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Flat Plastic",
        "price": 6.00,
        "image_path": "../assets/product_images/317PgHsPLrL._SX425_-e1652310564854-350x265.webp",
        "category": "Restorative"
    },
    {
        "name": "William Probe",
        "price": 6.00,
        "image_path": "../assets/product_images/71rltnGuZyL._SX342_.webp",
        "category": "Instruments"
    },
    {
        "name": "Enamel Hatchet",
        "price": 6.00,
        "image_path": "../assets/product_images/1769187858-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "College Tweezer",
        "price": 6.00,
        "image_path": "../assets/product_images/Dental-Tweezers-1000x1000-1-350x350.webp",
        "category": "Instruments"
    },
    {
        "name": "Nitrile Gloves Powder Free",
        "price": 2.40,
        "image_path": "../assets/product_images/gloves-350x350.jpg",
        "category": "Infection Control"
    },
    {
        "name": "Wedjets",
        "price": 10.80,
        "image_path": "../assets/product_images/IMG_7446-scaled-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Paper Points",
        "price": 12.00,
        "image_path": "../assets/product_images/pp1.png",
        "category": "Endodontics"
    },
    {
        "name": "GP Points",
        "price": 12.00,
        "image_path": "../assets/product_images/tggutta_percha_15-40-350x350.webp",
        "category": "Endodontics"
    },
    {
        "name": "Endo Frasaco Teeth",
        "price": 22.80,
        "image_path": "../assets/product_images/teeth-for-typodont-ag-3_0.webp",
        "category": "Endodontics"
    },
    {
        "name": "Gingival Replacement for AG3 Model",
        "price": 28.80,
        "image_path": "../assets/product_images/Untitled-e1652303738675.jpg",
        "category": "Endodontics"
    },
    {
        "name": "X-Ray Holders Rinn system",
        "price": 48.00,
        "image_path": "../assets/product_images/Rinn-system2-350x350.jpg",
        "category": "Radiography"
    },
    {
        "name": "Amalgam Capsules",
        "price": 14.40,
        "image_path": "../assets/product_images/Alloy_Capsules-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Bonding Agent",
        "price": 16.80,
        "image_path": "../assets/product_images/IMG_7450-e1652302475292-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Calcium Hydroxide",
        "price": 27.00,
        "image_path": "../assets/product_images/calcium-hydroxide-350x350.png",
        "category": "Restorative"
    },
    {
        "name": "Composite Capsules Dispenser",
        "price": 18.00,
        "image_path": "../assets/product_images/Dental-Composite-Gun-Unidose-Plastic-Caps-Applicator-Dispenser-Gun-293769721587-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Composite Capules",
        "price": 12.00,
        "image_path": "../assets/product_images/IMG_7386-1-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Composite Syringe",
        "price": 16.80,
        "image_path": "../assets/product_images/com-350x350.png",
        "category": "Restorative"
    },
    {
        "name": "Disposable Scalpel",
        "price": 2.40,
        "image_path": "../assets/product_images/scalpe-350x288.png",
        "category": "Surgical"
    },
    {
        "name": "Disposable Tray",
        "price": 0.60,
        "image_path": "../assets/product_images/IMG_6910-1-scaled-e1652101885118-350x350.jpg",
        "category": "Infection Control"
    },
    {
        "name": "Face Protective Shield",
        "price": 3.00,
        "image_path": "../assets/product_images/FS3-350x350.png",
        "category": "Infection Control"
    },
    {
        "name": "Matrix Band Roll",
        "price": 10.80,
        "image_path": "../assets/products.svg",
        "category": "Restorative"
    },
    {
        "name": "Matrix Band Strips",
        "price": 10.80,
        "image_path": "../assets/product_images/MatriciSiqveland_01-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Micro Brushes",
        "price": 2.40,
        "image_path": "../assets/product_images/productvariantdetailmain-0008155_1000.webp",
        "category": "Restorative"
    },
    {
        "name": "Polishing Strips",
        "price": 10.80,
        "image_path": "../assets/product_images/3M-S0074__53218-350x350.jpg",
        "category": "Restorative"
    },
    {
        "name": "Rubber Dam Sheets",
        "price": 18.00,
        "image_path": "../assets/product_images/RDAM-350x315.png",
        "category": "Endodontics"
    },
    {
        "name": "Straight Transparent Matrix Strips",
        "price": 18.00,
        "image_path": "../assets/product_images/123-350x350.png",
        "category": "Restorative"
    },
    {
        "name": "Tofflemire Bands",
        "price": 6.00,
        "image_path": "../assets/product_images/JPG_954078-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Transparent Mylar Strips",
        "price": 4.20,
        "image_path": "../assets/product_images/IMG_7466-scaled-350x350.jpeg",
        "category": "Restorative"
    },
    {
        "name": "Wizard Interdental Wedges",
        "price": 3.60,
        "image_path": "../assets/product_images/wooden-wedges--350x350.png",
        "category": "Restorative"
    },
    {
        "name": "Endodontic Ruler",
        "price": 10.80,
        "image_path": "../assets/product_images/20240203_092611-350x350.jpg",
        "category": "Endodontics"
    },
    {
        "name": "K files (15-40)",
        "price": 9.60,
        "image_path": "../assets/product_images/ki-file--350x350.png",
        "category": "Endodontics"
    },
    {
        "name": "K files (45-80)",
        "price": 9.60,
        "image_path": "../assets/product_images/ki-file--350x350.png",
        "category": "Endodontics"
    },
    {
        "name": "UnoSeal R Endo Resin Sealer",
        "price": 30.00,
        "image_path": "../assets/product_images/sealer-350x350.png",
        "category": "Endodontics"
    },
    {
        "name": "Disposable Syringe",
        "price": 2.40,
        "image_path": "../assets/product_images/d314-mi-350x350.webp",
        "category": "General"
    },
    {
        "name": "Spreaders",
        "price": 1.80,
        "image_path": "../assets/product_images/Size-25-spreader-1-350x350.jpg",
        "category": "Endodontics"
    },
    {
        "name": "Gates Glidden",
        "price": 12.00,
        "image_path": "../assets/product_images/IMG_7363-scaled-350x350.webp",
        "category": "Endodontics"
    },
    {
        "name": "White Shofu Cone Stone Low Speed",
        "price": 4.20,
        "image_path": "../assets/product_images/shofu-flame-350x350.png",
        "category": "Burs & Polishers"
    },
    {
        "name": "Shofu Brownie Mini Points Low Speed",
        "price": 4.80,
        "image_path": "../assets/product_images/shofu-Brownie-Mini-point-350x350.jpg",
        "category": "Burs & Polishers"
    },
    {
        "name": "Shofu Greenie Mini Points Low Speed",
        "price": 4.80,
        "image_path": "../assets/product_images/Shofu-Greenie-Mini-Points-350x350.jpg",
        "category": "Burs & Polishers"
    },
    {
        "name": "White Flame Stone High Speed",
        "price": 4.20,
        "image_path": "../assets/product_images/s-l500-306x350.png",
        "category": "Burs & Polishers"
    },
    {
        "name": "Disc Mandrel",
        "price": 8.40,
        "image_path": "../assets/product_images/ad405-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "Soflex Discs",
        "price": 10.80,
        "image_path": "../assets/product_images/polishing-discs-sof-lex-350x350.webp",
        "category": "Restorative"
    },
    {
        "name": "White Shofu Round Stone High Speed",
        "price": 4.20,
        "image_path": "../assets/product_images/White-shofu-round-stone-350x350.jpg",
        "category": "Burs & Polishers"
    },
    {
        "name": "Rubber Dam Kit",
        "price": 60.00,
        "image_path": "../assets/product_images/20240203_092024-350x350.jpg",
        "category": "Endodontics"
    },
    {
        "name": "Face Protective Shield",
        "price": 3.00,
        "image_path": "../assets/product_images/FS3-350x350.png",
        "category": "Infection Control"
    },
    {
        "name": "Complete ORE2 Hand Instrument Kit",
        "price": 102.00,
        "image_path": "../assets/products.svg",
        "category": "Instruments"
    },
    {
        "name": "Rubber Face Mask with Built-in Fixture for Drainage Pipe",
        "price": 96.00,
        "image_path": "../assets/products.svg",
        "category": "Infection Control"
    },
    {
        "name": "Face Protective Shield",
        "price": 3.00,
        "image_path": "../assets/product_images/FS3-350x350.png",
        "category": "Infection Control"
    },
    {
        "name": "Essential ORE2 Starter Kit",
        "price": 1874.40,
        "image_path": "../assets/product_images/default-product-image.png",
        "category": "Instruments"
    },
    {
        "name": "Unolube Handpiece Oil",
        "price": 16.80,
        "image_path": "../assets/product_images/oil-1-350x350.png",
        "category": "Handpiece Maintenance"
    },
    {
        "name": "ORE Impression Tray",
        "price": 6.00,
        "image_path": "../assets/product_images/mini--350x350.png",
        "category": "Impression Materials"
    },
    {
        "name": "Regular Impression Material",
        "price": 16.80,
        "image_path": "../assets/product_images/tgd-putty-light-body-fast-350x350.webp",
        "category": "Impression Materials"
    },
    {
        "name": "Dispenser Gun 1:1",
        "price": 26.40,
        "image_path": "../assets/product_images/IMG_7394-scaled-350x350.webp",
        "category": "Impression Materials"
    },
    {
        "name": "Light Impression Material",
        "price": 16.80,
        "image_path": "../assets/product_images/tgd-putty-light-body-fast-350x350.webp",
        "category": "Impression Materials"
    },
    {
        "name": "Condensation Silicon - Putty and Activator",
        "price": 50.40,
        "image_path": "../assets/product_images/consendation-348x350.png",
        "category": "Impression Materials"
    },
    {
        "name": "Additional-cured Hydrophilic Putty and Catalyst",
        "price": 40.00,
        "image_path": "../assets/product_images/21-350x350.webp",
        "category": "Impression Materials"
    },
    {
        "name": "Yellow Mixing Tips",
        "price": 9.60,
        "image_path": "../assets/product_images/download-350x259.webp",
        "category": "Impression Materials"
    },
    {
        "name": "Contra Mixing Tips",
        "price": 4.80,
        "image_path": "../assets/product_images/henryschein-images-3124396.webp",
        "category": "Impression Materials"
    },
    {
        "name": "Activator for C-Silicone",
        "price": 24.00,
        "image_path": "../assets/products.svg",
        "category": "Impression Materials"
    },
    {
        "name": "SureTemp",
        "price": 48.00,
        "image_path": "../assets/products.svg",
        "category": "Sterilization"
    },
    {
        "name": "Blue Mixing Tips 10:1",
        "price": 13.20,
        "image_path": "../assets/product_images/imp-tips-350x227.png",
        "category": "Impression Materials"
    },
    {
        "name": "Frasaco Jaws AG3",
        "price": 132.00,
        "image_path": "../assets/product_images/81746-350x350.webp",
        "category": "Endodontics"
    },
    {
        "name": "Frasaco AG3 Teeth",
        "price": 2.40,
        "image_path": "../assets/product_images/IMG_7505-350x350.jpeg",
        "category": "Endodontics"
    },
    {
        "name": "ORE2 BUR STAND",
        "price": 18.00,
        "image_path": "../assets/products.svg",
        "category": "Instruments"
    },
    {
        "name": "Two Striper Diamond Bur 170L",
        "price": 9.60,
        "image_path": "../assets/product_images/IMG_6971-scaled-350x350.jpg",
        "category": "Burs"
    },
    {
        "name": "Two Striper Diamond Bur 285.5",
        "price": 9.60,
        "image_path": "../assets/product_images/IMG_7359-scaled-350x350.jpeg",
        "category": "Burs"
    },
    {
        "name": "Two Striper Diamond Bur 120C",
        "price": 9.60,
        "image_path": "../assets/product_images/IMG_7361-scaled-e1652224642170-350x350.jpeg",
        "category": "Burs"
    },
    {
        "name": "Two Striper Diamond Bur 767.9VF",
        "price": 9.60,
        "image_path": "../assets/product_images/IMG_7380-scaled-350x350.jpeg",
        "category": "Burs"
    },
    {
        "name": "Two Striper Diamond Bur 260.8f",
        "price": 9.60,
        "image_path": "../assets/product_images/IMG_7358-scaled-350x350.jpeg",
        "category": "Burs"
    },
    {
        "name": "Suture Kit",
        "price": 3.60,
        "image_path": "../assets/products.svg",
        "category": "Surgical"
    },
    {
        "name": "FG 56 Carbide Burs",
        "price": 4.20,
        "image_path": "../assets/product_images/flat-fisssure-1-350x350.jpg",
        "category": "Burs"
    },
    {
        "name": "Flat Fissure",
        "price": 4.20,
        "image_path": "../assets/product_images/IMG_6729-scaled-350x350.jpg",
        "category": "Burs"
    },
    {
        "name": "Rose Head Bur",
        "price": 4.20,
        "image_path": "../assets/product_images/Rose-head-1-350x350.jpg",
        "category": "Burs"
    },
    {
        "name": "FG 330 Carbide Burs",
        "price": 4.20,
        "image_path": "../assets/product_images/pear330-rotated-350x350.jpg",
        "category": "Burs"
    },
    {
        "name": "Conversion Adaptor",
        "price": 18.00,
        "image_path": "../assets/product_images/H24d4c3c5afd246938ba14b4dc20f30dcu-350x350.webp",
        "category": "Accessories"
    },
    {
        "name": "Phantom Head",
        "price": 96.00,
        "image_path": "../assets/product_images/phathntom-head.jpg",
        "category": "Simulation"
    },
    {
        "name": "Portable Dental Unit",
        "price": 228.00,
        "image_path": "../assets/product_images/1108_G_1555065731746-350x350.jpg",
        "category": "Equipment"
    },
    {
        "name": "Low Speed Handpiece",
        "price": 60.00,
        "image_path": "../assets/product_images/soco-350x350.png",
        "category": "Handpieces"
    },
    {
        "name": "Impression Tray",
        "price": 2.40,
        "image_path": "../assets/product_images/iiu058_1-350x350.webp",
        "category": "Impression Materials"
    },
    {
        "name": "Gingival Marginal Trimmer",
        "price": 6.00,
        "image_path": "../assets/product_images/GMT-350x350.png",
        "category": "Instruments"
    },
    {
        "name": "Mirror Size 5",
        "price": 4.80,
        "image_path": "../assets/product_images/51uT0BISPBL._SY355_-350x350.webp",
        "category": "Instruments"
    },
    {
        "name": "EA ORE2 Starter Kit",
        "price": 1874.40,
        "image_path": "../assets/products.svg",
        "category": "Kits"
    },
    {
        "name": "ORE2 COMPLETE KIT",
        "price": 2184.00,
        "image_path": "../assets/product_images/EA-Dental-LOGO.bmp",
        "category": "Kits"
    },
    {
        "name": "EA Plus",
        "price": 1362.00,
        "image_path": "../assets/product_images/plus-350x350.jpg",
        "category": "Kits"
    }
]



const firebaseAdmin = require('firebase-admin');
const serviceAccount = '/Users/apple/ea-dental/frontend/assets/images/ea-dental-36bd1-firebase-adminsdk-janpv-8ab0822521.json';
const firebaseUrl = 'https://ea-dental-36bd1.firebaseio.com';

firebaseAdmin.initializeApp({
    credential: firebaseAdmin.credential.cert(require(serviceAccount)),
    databaseURL: firebaseUrl
});
const firestore = firebaseAdmin.firestore();

async function copyCollection(srcCollectionName, destCollectionName) {
    // const documents = await firestore.collection(srcCollectionName).get();
    let writeBatch = firebaseAdmin.firestore().batch();
    const destCollection = firestore.collection(destCollectionName);
    let i = 0;
    for (const doc of arr) {
        writeBatch.set(destCollection.doc(`${i}`), doc);

        i++;
        if (i > 400) {  // write batch only allows maximum 500 writes per batch
            i = 0;
            console.log('Intermediate committing of batch operation');
            await writeBatch.commit();
            writeBatch = firebaseAdmin.firestore().batch();
        }
    }
    if (i > 0) {
        console.log('Firebase batch operation completed. Doing final committing of batch operation.');
        await writeBatch.commit();
    } else {
        console.log('Firebase batch operation completed.');
    }
}

copyCollection('restorative', 'products').then(() => console.log('copy complete')).catch(error => console.log('copy failed. ' + error));
